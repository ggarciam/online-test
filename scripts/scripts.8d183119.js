"use strict";angular.module("translateApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","pascalprecht.translate","ui.bootstrap","LocalStorageModule"]).config(["localStorageServiceProvider",function(a){a.setPrefix("ls")}]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/rest",{templateUrl:"views/rest.html",controller:"RestCtrl",controllerAs:"rc"}).otherwise({redirectTo:"/"})}]),angular.module("translateApp").config(["$translateProvider",function(a){a.useLoaderCache("$templateCache").useSanitizeValueStrategy("sanitize").useLocalStorage().fallbackLanguage("en").determinePreferredLanguage().useStaticFilesLoader({prefix:"lang/locale-",suffix:".json"}).use("en_US")}]),angular.module("translateApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma","otra"]}]),angular.module("translateApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("translateApp").controller("RestCtrl",["$scope","$injector","localStorageService",function(a,b,c){function d(){0===h.names.length&&h.getNames()}function e(){var a="bcdefghijklmnopqrstuvwxyz".split(""),b=[],d="https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20data.html.cssselect%20where%20url%3D%22https%3A%2F%2Fes.wikipedia.org%2Fwiki%2FWikiproyecto%3ANombres_propios%2Flibro_de_los_nombres%22%20and%20css%3D%22.mw-content-ltr%20%3Eul%20a%22&format=json&diagnostics=true&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys&callback=";i({method:"POST",url:d}).then(function(a){var c=a.data.query.results.results.a;b.push("a"),angular.forEach(c,function(a){h.names.push(a.content)})},function(a){console.log("error in letter a, "+a)}),angular.forEach(a,function(e){d="https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20data.html.cssselect%20where%20url%3D%22https%3A%2F%2Fes.wikipedia.org%2Fwiki%2FWikiproyecto%3ANombres_propios%2Flibro_de_los_nombres%2F"+e+"%22%20and%20css%3D%22.mw-content-ltr%20%3Eul%20a%22&format=json&diagnostics=true&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys&callback=";var f=e;i({method:"POST",url:d}).then(function(d){var e=d.data.query.results.results.a;b.push(f),angular.forEach(e,function(a){h.names.push(a.content)}),b.length===a.length&&c.set("names",h.names)},function(a){console.log("error in letter "+f+", "+a)})})}function f(){if(a.name&&a.genre){h.isValid=!0,h.buttonInvalid=!0,h.values={},a.name=a.name.replace(/(á|à|ä|â)/gi,"a"),a.name=a.name.replace(/(é|è|ë|ê)/gi,"e"),a.name=a.name.replace(/(í|ì|ï|î)/gi,"i"),a.name=a.name.replace(/(ó|ò|ö|ô)/gi,"o"),a.name=a.name.replace(/(ú|ù|ü|û)/gi,"u");var b="https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20data.html.cssselect%20where%20url%3D%22http%3A%2F%2Fwww.ine.es%2Ftnombres%2FformGeneralresult.do%3FL%3D0%26vista%3D1%26orig%3Dine%26cmb4%3D99%26cmb6%3D"+a.name+"%26cmb7%3D"+a.genre+"%26x%3D11%26y%3D5%22%20and%20css%3D%22tr.normal%22&format=json&diagnostics=true&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys&callback=";i({method:"POST",url:b}).then(function(a){a.data.query.results&&a.data.query.results.results?(h.isValid=!0,h.values=a.data.query.results.results.tr,angular.forEach(h.values,function(a){a.provincia=a.th.content.replace(/\n|^\s+|\s+$/gm,"");var b=a;angular.forEach(a.td,function(a,c){0===c?b.number=parseInt(a.content.replace(/\n|^\s+|\s+$|\t|[.]|<!--(.*?)-->/gm,"")):b.percent=a.content.replace(/\n|^\s+|\s+$|\t|[.]|<!--(.*?)-->/gm,"")})})):h.isValid=!1,h.buttonInvalid=!1},function(a){console.log("error in values request, "+a)})}}function g(a){h.reverse=h.predicate===a?!h.reverse:!0,h.predicate=a}var h=this,i=b.get("$http");this.namesStored=c.get("names"),this.names=h.namesStored||[],this.values={},this.getNames=e,this.getValues=f,this.isValid=!0,this.orderTable=g,this.predicate="",this.reverse=!1,this.buttonInvalid=!1,a.$on("$destroy",function(){h=null,a=null}),d()}]),angular.module("translateApp").directive("compileUnsafe",["$compile",function(a){return function(b,c,d){b.$watch(d.compileUnsafe,function(d,e){if(d&&(d!==e||!c[0].innerHTML)){var f=angular.element("<div>");f.append(d),c.empty().append(f.contents()),a(c.contents())(b)}})}}]),angular.module("translateApp").directive("loading",["$http",function(a){return{restrict:"A",link:function(b,c){b.isLoading=function(){return a.pendingRequests.length>0},b.$watch(b.isLoading,function(a){a?c.show():c.hide()})}}}]);